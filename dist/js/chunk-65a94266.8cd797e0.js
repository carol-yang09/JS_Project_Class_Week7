(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65a94266"],{"081a":function(a,t,s){},d72e:function(a,t,s){"use strict";s.r(t);var i=function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",[s("loading",{attrs:{active:a.isLoading,"is-full-page":!0},on:{"update:active":function(t){a.isLoading=t}}}),s("nav",{staticClass:"navbar sticky-top navbar-dark bg-dark"},[s("router-link",{staticClass:"navbar-brand logo",attrs:{to:"/"}},[a._v("Adagio")]),s("div",{staticClass:"navbar-nav ml-auto d-none d-md-flex"},[s("a",{staticClass:"nav-link",attrs:{href:""},on:{click:function(t){return t.preventDefault(),a.logout()}}},[a._v("登出")])]),a._m(0)],1),s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("nav",{staticClass:"col-md-3 col-lg-2 d-md-block collapse sidebar",attrs:{id:"sidebar"}},[s("h6",{staticClass:"sidebar-subtitle"},[a._v("管理員")]),s("ul",{staticClass:"nav flex-column mb-4"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/admin/productsmanage"}},[s("i",{staticClass:"fas fa-shopping-bag"}),a._v(" 產品管理 ")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/admin/ordersmanage"}},[s("i",{staticClass:"far fa-list-alt"}),a._v(" 訂單管理 ")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/admin/couponsmanage"}},[s("i",{staticClass:"fas fa-money-bill"}),a._v(" 優惠劵管理 ")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/admin/storagesmanage"}},[s("i",{staticClass:"fas fa-image"}),a._v(" 圖片管理 ")])],1)]),s("h6",{staticClass:"sidebar-subtitle"},[a._v("購物頁")]),s("ul",{staticClass:"nav flex-column"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[s("i",{staticClass:"fas fa-store"}),a._v(" Adagio ")])],1)])]),s("main",{staticClass:"col-md-9 col-lg-10 p-4"},[a.checkSuccess?s("router-view",{attrs:{token:a.token}}):a._e()],1)])])],1)},e=[function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("button",{staticClass:"navbar-toggler d-md-none",attrs:{type:"button","data-toggle":"collapse","data-target":"#sidebar","aria-controls":"sidebar","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],n=(s("ac1f"),s("5319"),{data:function(){return{isLoading:!1,token:"",checkSuccess:!1}},methods:{logout:function(){var a=this,t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");a.isLoading=!0,a.$http({method:"post",url:"".concat("https://course-ec-api.hexschool.io/api","/auth/logout"),data:{api_token:t},headers:{authorization:"Bearer ".concat(t)}}).then((function(){document.cookie="hexToken=;expires=;path=/",a.checkSuccess=!1,a.isLoading=!1,a.$swal({icon:"success",title:"登出成功"}),a.$router.push("/login")}))},checkLogin:function(){var a=this,t="".concat("https://course-ec-api.hexschool.io/api","/auth/check");a.token=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1"),a.isLoading=!0,a.$http.defaults.headers.common.Authorization="Bearer ".concat(a.token),a.$http.post(t,{api_token:a.token}).then((function(t){t.data.success||(a.$swal({icon:"error",title:"出現錯誤"}),a.$router.push("/login")),a.checkSuccess=!0,a.isLoading=!1}))}},created:function(){this.checkLogin()}}),o=n,c=(s("f5fb"),s("2877")),l=Object(c["a"])(o,i,e,!1,null,"483ec897",null);t["default"]=l.exports},f5fb:function(a,t,s){"use strict";var i=s("081a"),e=s.n(i);e.a}}]);
//# sourceMappingURL=chunk-65a94266.8cd797e0.js.map